<html>
<head>
  <script src="https://unpkg.com/chromecast-device-emulator/dist/receiver-utils.min.js"></script>

  <script type="text/javascript"
      src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js">
  </script>
</head>
<body>
  <cast-media-player></cast-media-player>
  <script>

  window.mediaHost = new cast.player.api.Host({
    'mediaElement': window.mediaElement,
    'url': url
  });

  window.mediaHost.updateManifestRequestInfo = function(requestInfo) {
    if (!requestInfo.url) {
        requestInfo.url = this.url;
    }
    requestInfo.withCredentials = true;
  };

  window.mediaHost.updateLicenseRequestInfo = function(requestInfo) {
    requestInfo.withCredentials = true;
  };

  window.mediaHost.updateSegmentRequestInfo = function(requestInfo) {
    requestInfo.withCredentials = true;
  };

    cast.framework.CastReceiverContext.getInstance().start();
  </script>
</body>
</html>
